#N canvas 545 14 735 620 10;
#X obj 324 408 import moonlib;
#X obj 27 354 cyclone/svf~;
#X obj 11 13 cnv 15 252 107 empty empty vcfvcaeg~ 2 4 0 9 -232703 -45076
0;
#X obj 28 154 inlet~;
#X obj 398 133 r \$0-res_pc;
#X obj 398 159 * 0.01;
#X obj 398 183 s \$0-res-set;
#X obj 511 213 r \$0-fc_eg_depth;
#X obj 511 313 s \$0-fc_eg_depth-sqr;
#X obj 511 273 pow 2;
#X obj 511 233 moses 0;
#X msg 549 276 -1;
#X msg 579 276 1;
#X obj 511 293 * 1;
#X obj 511 253 abs;
#X obj 511 133 r \$0-pitch;
#X obj 511 153 mtof;
#X obj 511 193 s \$0-freq-set;
#X obj 597 133 r \$0-freq;
#X msg 511 173 set \$1;
#X obj 597 153 ftom;
#X msg 597 173 set \$1;
#X obj 597 193 s \$0-pitch-set;
#N canvas 152 45 1055 596 patches 0;
#X obj 22 56 f;
#X obj 22 199 prepend add;
#X obj 19 232 t b a;
#X obj 89 321 msgfile;
#X obj 356 382 spigot;
#X msg 400 381 0;
#X msg 401 364 1;
#X msg 172 289 add patches 0;
#X obj 169 251 loadbang;
#X obj 80 551 route patches;
#X msg 106 238 goto 0;
#X obj 34 297 + 1;
#X obj 18 314 f;
#X msg 18 367 replace patches \$1;
#X msg 69 288 this;
#X obj 18 262 t b b b;
#X msg 573 327 range 1 \$1;
#X obj 346 217 t b f;
#X msg 361 241 goto \$1;
#X msg 326 240 this;
#X obj 453 229 r \$0-patches_load;
#X obj 453 256 openpanel;
#X msg 527 302 read \$1;
#X msg 483 302 goto 0;
#X msg 453 302 this;
#X obj 633 181 r \$0-patches_save;
#X obj 633 209 savepanel;
#X msg 630 282 write \$1;
#X msg 226 222 print;
#X obj 81 521 route list;
#X obj 453 283 t b b a b;
#X msg 469 362 clear;
#X obj 281 171 r \$0-patches_clear;
#X obj 279 197 t b b;
#X obj 846 125 inlet;
#X obj 849 373 outlet;
#X obj 813 170 symbol;
#X obj 910 161 inlet;
#X obj 963 418 random;
#X obj 981 510 outlet;
#X obj 356 399 s \$0-patches-num;
#X obj 573 344 s \$0-patch-set;
#X obj 901 229 r \$0-store_plus;
#X obj 785 229 r \$0-store_minus;
#X obj 901 253 f;
#X obj 785 263 f;
#X obj 785 283 +;
#X obj 830 280 %;
#X obj 830 300 + 1;
#X obj 763 198 - 1;
#X obj 785 304 - 1;
#X obj 901 274 + 1;
#X obj 824 321 s \$0-patch-set;
#X obj 885 129 inlet;
#X obj 632 238 makesymbol %s.dlf;
#X obj 22 13 r \$0-store_patch;
#X obj 37 33 r \$0-freq;
#X obj 40 81 r \$0-pitch;
#X obj 54 117 r \$0-fc_eg_depth-num;
#X obj 70 143 r \$0-res;
#X obj 102 36 r \$0-amp_a-num;
#X obj 113 55 r \$0-amp_d-num;
#X obj 122 74 r \$0-amp_s-num;
#X obj 135 93 r \$0-amp_r-num;
#X obj 208 34 r \$0-fc_a-num;
#X obj 218 54 r \$0-fc_d-num;
#X obj 228 74 r \$0-fc_s-num;
#X obj 237 94 r \$0-fc_r-num;
#X obj 446 444 s \$0-porta-set;
#X obj 344 621 t f f;
#X obj 371 641 s \$0-fc_a-set;
#X obj 344 660 s \$0-fc_a;
#X obj 426 463 s \$0-type-set;
#X obj 364 562 t f f;
#X obj 364 601 s \$0-fc_d;
#X obj 391 582 s \$0-fc_d-set;
#X obj 385 542 s \$0-fc_s-set;
#X obj 405 484 t f f;
#X obj 405 523 s \$0-fc_r;
#X obj 432 504 s \$0-fc_r-set;
#X obj 244 621 t f f;
#X obj 264 562 t f f;
#X obj 244 660 s \$0-amp_a;
#X obj 271 641 s \$0-amp_a-set;
#X obj 264 601 s \$0-amp_d;
#X obj 291 582 s \$0-amp_d-set;
#X obj 285 542 s \$0-amp_s-set;
#X obj 305 523 s \$0-amp_r;
#X obj 332 504 s \$0-amp_r-set;
#X obj 305 484 t f f;
#X obj 181 487 s \$0-freq-set;
#X obj 201 467 s \$0-pitch-set;
#X obj 221 447 s \$0-fc_eg_depth-set;
#X obj 242 407 * 100;
#X obj 242 427 s \$0-res_pc-set;
#X obj 210 403 sqrt;
#X obj 253 117 r \$0-type;
#X obj 285 140 r \$0-porta;
#X obj 24 177 pack f f f f f f f f f f f f f f f;
#X obj 353 116 r \$0-precision;
#X obj 167 336 unpack f f f f f f f f f f f f f f f;
#X obj 470 424 s \$0-precision-set;
#X connect 0 0 98 0;
#X connect 1 0 2 0;
#X connect 2 0 15 0;
#X connect 2 1 3 0;
#X connect 3 0 29 0;
#X connect 4 0 5 0;
#X connect 4 0 16 0;
#X connect 4 0 40 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 3 0;
#X connect 8 0 7 0;
#X connect 9 0 11 0;
#X connect 9 0 4 0;
#X connect 9 0 38 1;
#X connect 9 0 47 1;
#X connect 9 0 46 1;
#X connect 9 1 100 0;
#X connect 10 0 3 0;
#X connect 11 0 12 1;
#X connect 12 0 13 0;
#X connect 12 0 16 0;
#X connect 12 0 38 1;
#X connect 12 0 40 0;
#X connect 12 0 46 1;
#X connect 12 0 47 1;
#X connect 13 0 3 0;
#X connect 14 0 3 0;
#X connect 15 0 12 0;
#X connect 15 1 14 0;
#X connect 15 2 10 0;
#X connect 16 0 41 0;
#X connect 17 0 19 0;
#X connect 17 1 18 0;
#X connect 17 1 49 0;
#X connect 18 0 3 0;
#X connect 19 0 3 0;
#X connect 20 0 21 0;
#X connect 21 0 30 0;
#X connect 21 0 35 0;
#X connect 22 0 3 0;
#X connect 23 0 3 0;
#X connect 24 0 3 0;
#X connect 25 0 26 0;
#X connect 26 0 54 0;
#X connect 27 0 3 0;
#X connect 28 0 3 0;
#X connect 29 0 9 0;
#X connect 30 0 24 0;
#X connect 30 1 23 0;
#X connect 30 1 6 0;
#X connect 30 2 22 0;
#X connect 30 3 31 0;
#X connect 31 0 3 0;
#X connect 32 0 33 0;
#X connect 33 0 7 0;
#X connect 33 1 31 0;
#X connect 34 0 36 0;
#X connect 36 0 30 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 42 0 44 0;
#X connect 43 0 45 0;
#X connect 44 0 51 0;
#X connect 45 0 46 0;
#X connect 46 0 50 0;
#X connect 47 0 48 0;
#X connect 48 0 52 0;
#X connect 49 0 45 1;
#X connect 49 0 44 1;
#X connect 50 0 47 0;
#X connect 51 0 47 0;
#X connect 53 0 17 0;
#X connect 54 0 27 0;
#X connect 54 0 35 0;
#X connect 55 0 0 0;
#X connect 56 0 0 1;
#X connect 57 0 98 1;
#X connect 58 0 98 2;
#X connect 59 0 98 3;
#X connect 60 0 98 4;
#X connect 61 0 98 5;
#X connect 62 0 98 6;
#X connect 63 0 98 7;
#X connect 64 0 98 8;
#X connect 65 0 98 9;
#X connect 66 0 98 10;
#X connect 67 0 98 11;
#X connect 69 0 71 0;
#X connect 69 1 70 0;
#X connect 73 0 74 0;
#X connect 73 1 75 0;
#X connect 77 0 78 0;
#X connect 77 1 79 0;
#X connect 80 0 82 0;
#X connect 80 1 83 0;
#X connect 81 0 84 0;
#X connect 81 1 85 0;
#X connect 89 0 87 0;
#X connect 89 1 88 0;
#X connect 93 0 94 0;
#X connect 95 0 92 0;
#X connect 96 0 98 12;
#X connect 97 0 98 13;
#X connect 98 0 1 0;
#X connect 99 0 98 14;
#X connect 100 0 90 0;
#X connect 100 1 91 0;
#X connect 100 2 95 0;
#X connect 100 3 93 0;
#X connect 100 4 80 0;
#X connect 100 5 81 0;
#X connect 100 6 86 0;
#X connect 100 7 89 0;
#X connect 100 8 69 0;
#X connect 100 9 73 0;
#X connect 100 10 76 0;
#X connect 100 11 77 0;
#X connect 100 12 72 0;
#X connect 100 13 68 0;
#X connect 100 14 101 0;
#X restore 464 492 pd patches;
#X obj 477 563 outlet;
#X obj 437 381 route patch file;
#X obj 417 524 s \$0-patch-set;
#X msg 544 492 patch \$1;
#N canvas 638 15 620 401 automation 0;
#X obj 51 28 inlet;
#X obj 479 296 outlet;
#X obj 428 296 outlet;
#X obj 393 53 route all;
#X obj 530 296 outlet;
#X obj 316 134 s \$0-porta-set;
#X obj 214 311 t f f;
#X obj 241 331 s \$0-fc_a-set;
#X obj 214 350 s \$0-fc_a;
#X obj 296 153 s \$0-type-set;
#X obj 234 252 t f f;
#X obj 234 291 s \$0-fc_d;
#X obj 261 272 s \$0-fc_d-set;
#X obj 255 232 s \$0-fc_s-set;
#X obj 275 174 t f f;
#X obj 275 213 s \$0-fc_r;
#X obj 302 194 s \$0-fc_r-set;
#X obj 114 311 t f f;
#X obj 134 252 t f f;
#X obj 114 350 s \$0-amp_a;
#X obj 141 331 s \$0-amp_a-set;
#X obj 134 291 s \$0-amp_d;
#X obj 161 272 s \$0-amp_d-set;
#X obj 155 232 s \$0-amp_s-set;
#X obj 175 213 s \$0-amp_r;
#X obj 202 194 s \$0-amp_r-set;
#X obj 175 174 t f f;
#X obj 34 233 s \$0-freq-set;
#X obj 54 213 s \$0-pitch-set;
#X obj 74 193 s \$0-fc_eg_depth-set;
#X obj 112 88 * 100;
#X obj 112 107 s \$0-res_pc-set;
#X obj 393 73 unpack f f f f f f f f f f f f f f;
#X obj 499 132 route lines;
#X obj 499 160 s \$0-lines;
#X obj 51 51 route freq pitch depth res aa ad as ar fa fd fs fr type
porta randpat on;
#X obj 475 16 route precision;
#X obj 72 97 t f f;
#X obj 69 149 sqrt;
#X obj 101 128 moses 0;
#X obj 76 169 *;
#X msg 101 146 -1;
#X msg 127 146 1;
#X obj 70 124 abs;
#X obj 475 45 s \$0-precision-set;
#X connect 0 0 35 0;
#X connect 3 0 32 0;
#X connect 3 1 36 0;
#X connect 6 0 8 0;
#X connect 6 1 7 0;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 17 0 19 0;
#X connect 17 1 20 0;
#X connect 18 0 21 0;
#X connect 18 1 22 0;
#X connect 26 0 24 0;
#X connect 26 1 25 0;
#X connect 30 0 31 0;
#X connect 32 0 27 0;
#X connect 32 1 28 0;
#X connect 32 2 37 0;
#X connect 32 3 30 0;
#X connect 32 4 17 0;
#X connect 32 5 18 0;
#X connect 32 6 23 0;
#X connect 32 7 26 0;
#X connect 32 8 6 0;
#X connect 32 9 10 0;
#X connect 32 10 13 0;
#X connect 32 11 14 0;
#X connect 32 12 9 0;
#X connect 32 13 5 0;
#X connect 33 0 34 0;
#X connect 35 0 27 0;
#X connect 35 1 28 0;
#X connect 35 2 37 0;
#X connect 35 3 30 0;
#X connect 35 4 17 0;
#X connect 35 5 18 0;
#X connect 35 6 23 0;
#X connect 35 7 26 0;
#X connect 35 8 6 0;
#X connect 35 9 10 0;
#X connect 35 10 13 0;
#X connect 35 11 14 0;
#X connect 35 12 9 0;
#X connect 35 13 5 0;
#X connect 35 14 1 0;
#X connect 35 15 4 0;
#X connect 35 16 2 0;
#X connect 35 16 3 0;
#X connect 35 16 33 0;
#X connect 36 0 44 0;
#X connect 37 0 43 0;
#X connect 37 1 39 0;
#X connect 38 0 40 0;
#X connect 39 0 41 0;
#X connect 39 1 42 0;
#X connect 40 0 29 0;
#X connect 41 0 40 1;
#X connect 42 0 40 1;
#X connect 43 0 38 0;
#X restore 437 336 pd automation;
#X msg 559 378 1;
#X obj 557 351 loadbang;
#N canvas 224 17 861 498 auto_out 0;
#X obj 15 432 outlet;
#X obj 130 386 inlet;
#X obj 14 48 change;
#X obj 82 68 change;
#X obj 223 109 change;
#X obj 274 130 change;
#X obj 338 150 change;
#X obj 388 170 change;
#X obj 438 190 change;
#X obj 487 210 change;
#X obj 536 230 change;
#X obj 191 62 change;
#X obj 15 397 spigot;
#X obj 130 407 prepend file;
#X obj 584 38 inlet;
#X obj 668 36 inlet;
#X msg 585 69 1;
#X msg 663 68 0;
#X obj 509 34 loadbang;
#X obj 105 120 t b f;
#X obj 149 165 t b f;
#X obj 186 200 t b f;
#X obj 240 214 t b f;
#X obj 299 222 t b f;
#X obj 364 253 t b f;
#X obj 410 274 t b f;
#X obj 455 299 t b f;
#X obj 505 318 t b f;
#X obj 295 427 prepend all;
#X obj 191 41 r \$0-fc_eg_depth-num;
#X msg 151 103 depth \$1;
#X obj 223 89 r \$0-res;
#X msg 223 130 res \$1;
#X obj 274 109 r \$0-amp_a-num;
#X msg 274 150 aa \$1;
#X obj 337 129 r \$0-amp_d-num;
#X msg 338 170 ad \$1;
#X obj 388 150 r \$0-amp_s-num;
#X msg 388 190 as \$1;
#X obj 438 170 r \$0-amp_r-num;
#X msg 438 210 ar \$1;
#X obj 487 190 r \$0-fc_a-num;
#X msg 487 230 fa \$1;
#X obj 536 210 r \$0-fc_d-num;
#X msg 536 250 fd \$1;
#X obj 586 250 change;
#X obj 555 338 t b f;
#X obj 636 270 change;
#X obj 605 340 t b f;
#X obj 586 230 r \$0-fc_s-num;
#X obj 636 250 r \$0-fc_r-num;
#X msg 586 270 fs \$1;
#X msg 636 290 fr \$1;
#X obj 295 386 pack f f f f f f f f f f f f f f;
#X obj 686 290 change;
#X obj 649 336 t b f;
#X obj 736 310 change;
#X obj 699 338 t b f;
#X obj 686 270 r \$0-type;
#X obj 736 290 r \$0-porta;
#X msg 686 310 type \$1;
#X msg 736 330 porta \$1;
#X obj 14 8 r \$0-freq;
#X obj 82 28 r \$0-pitch;
#X msg 14 68 freq \$1;
#X msg 82 88 pitch \$1;
#X obj 14 28 route set;
#X obj 82 48 route set;
#X obj 152 27 del 0;
#X obj 151 7 t b;
#X obj 195 14 s \$0-freq-set;
#X obj 760 218 r \$0-precision;
#X msg 761 244 precision \$1;
#X connect 1 0 13 0;
#X connect 2 0 64 0;
#X connect 2 0 53 0;
#X connect 3 0 65 0;
#X connect 3 0 19 0;
#X connect 4 0 32 0;
#X connect 4 0 21 0;
#X connect 5 0 34 0;
#X connect 5 0 22 0;
#X connect 6 0 36 0;
#X connect 6 0 23 0;
#X connect 7 0 38 0;
#X connect 7 0 24 0;
#X connect 8 0 40 0;
#X connect 8 0 25 0;
#X connect 9 0 42 0;
#X connect 9 0 26 0;
#X connect 10 0 44 0;
#X connect 10 0 27 0;
#X connect 11 0 30 0;
#X connect 11 0 20 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 14 0 16 0;
#X connect 15 0 17 0;
#X connect 16 0 12 1;
#X connect 17 0 12 1;
#X connect 18 0 16 0;
#X connect 19 0 53 0;
#X connect 19 1 53 1;
#X connect 20 0 53 0;
#X connect 20 1 53 2;
#X connect 21 0 53 0;
#X connect 21 1 53 3;
#X connect 22 0 53 0;
#X connect 22 1 53 4;
#X connect 23 0 53 0;
#X connect 23 1 53 5;
#X connect 24 0 53 0;
#X connect 24 1 53 6;
#X connect 25 0 53 0;
#X connect 25 1 53 7;
#X connect 26 0 53 0;
#X connect 26 1 53 8;
#X connect 27 0 53 0;
#X connect 27 1 53 9;
#X connect 28 0 12 0;
#X connect 29 0 11 0;
#X connect 30 0 12 0;
#X connect 31 0 4 0;
#X connect 32 0 12 0;
#X connect 33 0 5 0;
#X connect 34 0 12 0;
#X connect 35 0 6 0;
#X connect 36 0 12 0;
#X connect 37 0 7 0;
#X connect 38 0 12 0;
#X connect 39 0 8 0;
#X connect 40 0 12 0;
#X connect 41 0 9 0;
#X connect 42 0 12 0;
#X connect 43 0 10 0;
#X connect 44 0 12 0;
#X connect 45 0 51 0;
#X connect 45 0 46 0;
#X connect 46 0 53 0;
#X connect 46 1 53 10;
#X connect 47 0 52 0;
#X connect 47 0 48 0;
#X connect 48 0 53 0;
#X connect 48 1 53 11;
#X connect 49 0 45 0;
#X connect 50 0 47 0;
#X connect 51 0 12 0;
#X connect 52 0 12 0;
#X connect 53 0 28 0;
#X connect 54 0 60 0;
#X connect 54 0 55 0;
#X connect 55 0 53 0;
#X connect 55 1 53 12;
#X connect 56 0 61 0;
#X connect 56 0 57 0;
#X connect 57 0 53 0;
#X connect 57 1 53 13;
#X connect 58 0 54 0;
#X connect 59 0 56 0;
#X connect 60 0 12 0;
#X connect 61 0 12 0;
#X connect 62 0 66 0;
#X connect 63 0 67 0;
#X connect 64 0 12 0;
#X connect 65 0 12 0;
#X connect 66 0 2 0;
#X connect 66 1 2 0;
#X connect 67 1 3 0;
#X connect 67 1 69 0;
#X connect 68 0 70 0;
#X connect 69 0 68 0;
#X connect 71 0 72 0;
#X connect 72 0 12 0;
#X restore 532 517 pd auto_out;
#X obj 534 446 r \$0-patch-num;
#X obj 545 469 t b f b;
#N canvas 0 0 529 407 init 0;
#X obj 90 7 r \$0-type;
#X obj 92 89 s \$0-type-set;
#X obj 89 33 sel 0 1 2 3;
#X msg 40 60 label lpf;
#X msg 107 60 label hpf;
#X msg 170 60 label bpf;
#X msg 237 60 label brf;
#X obj 317 167 s \$0-porta-set;
#X obj 242 364 s \$0-fc_a-set;
#X obj 297 186 s \$0-type-set;
#X obj 262 305 s \$0-fc_d-set;
#X obj 256 265 s \$0-fc_s-set;
#X obj 303 227 s \$0-fc_r-set;
#X obj 142 364 s \$0-amp_a-set;
#X obj 162 305 s \$0-amp_d-set;
#X obj 156 265 s \$0-amp_s-set;
#X obj 203 227 s \$0-amp_r-set;
#X obj 70 189 s \$0-pitch-set;
#X obj 90 169 s \$0-fc_eg_depth-set;
#X obj 113 150 s \$0-res_pc-set;
#X msg 74 133 0;
#X msg 36 159 36;
#X msg 111 119 20;
#X msg 135 335 3;
#X msg 108 281 120;
#X msg 104 237 100;
#X msg 183 203 1000;
#X msg 238 335 10;
#X msg 273 144 0;
#X msg 314 136 50;
#X obj 218 97 loadbang;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 2 2 5 0;
#X connect 2 3 6 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 20 0 18 0;
#X connect 21 0 17 0;
#X connect 22 0 19 0;
#X connect 23 0 13 0;
#X connect 24 0 14 0;
#X connect 24 0 10 0;
#X connect 25 0 15 0;
#X connect 25 0 11 0;
#X connect 26 0 16 0;
#X connect 26 0 12 0;
#X connect 27 0 8 0;
#X connect 28 0 9 0;
#X connect 29 0 7 0;
#X connect 30 0 29 0;
#X connect 30 0 28 0;
#X connect 30 0 22 0;
#X connect 30 0 20 0;
#X connect 30 0 21 0;
#X connect 30 0 26 0;
#X connect 30 0 25 0;
#X connect 30 0 24 0;
#X connect 30 0 23 0;
#X connect 30 0 27 0;
#X restore 394 230 pd init;
#N canvas 0 0 758 670 adsr~ 0;
#X obj 115 121 inlet;
#X text 111 96 trigger;
#X obj 115 149 sel 0;
#X obj 254 165 t b;
#X obj 176 299 pack 0 \$2;
#X obj 502 161 inlet;
#X obj 448 291 del \$2;
#X obj 468 439 line~;
#X obj 472 314 f \$4;
#X obj 511 389 pack 0 \$3;
#X obj 564 161 inlet;
#X obj 626 161 inlet;
#X obj 699 160 inlet;
#X msg 115 180 stop;
#X obj 622 316 pack 0 \$5;
#X text 445 139 level;
#X obj 468 464 outlet~;
#X text 112 388 and pack with;
#X text 113 408 attack time;
#X text 41 136 if zero;
#X text 42 153 release;
#X text 22 170 and cancel;
#X text 53 187 decay;
#X text 294 282 on attack \, set a;
#X text 288 315 recall sustain value;
#X text 325 388 pack with decay time;
#X text 615 342 on release ramp;
#X text 616 359 back to zero;
#X obj 472 339 * 0.01;
#X text 57 577 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 23 12 ADSR ENVELOPE;
#X text 498 139 attack;
#X text 565 138 decay;
#X text 619 139 sustain;
#X text 696 139 release;
#X text 212 81 attack;
#X obj 214 102 moses;
#X obj 204 132 t b b;
#X msg 138 300 0;
#X text 30 283 optionally;
#X text 20 301 bash to zero;
#X text 35 256 ATTACK:;
#X text 59 487 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 505 639 Updated for Pd version 0.37;
#X text 265 99 test for negative trigger;
#X text 263 123 if so \, zero;
#X text 264 139 the output;
#X text 288 175 in any case;
#X text 313 365 multiply by peak level;
#X text 290 296 delay for sustain;
#X text 286 338 convert from percent;
#X text 165 350 ... then;
#X text 113 369 recall peak level;
#X text 449 123 peak;
#X text 291 159 ... do this;
#X text 57 539 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 218 11 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X msg 217 243 1;
#X connect 0 0 2 0;
#X connect 2 0 13 0;
#X connect 2 0 14 0;
#X connect 2 1 36 0;
#X connect 3 0 6 0;
#X connect 3 0 57 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 5 0 6 1;
#X connect 6 0 8 0;
#X connect 7 0 16 0;
#X connect 8 0 28 0;
#X connect 9 0 7 0;
#X connect 10 0 9 1;
#X connect 11 0 8 1;
#X connect 12 0 14 1;
#X connect 13 0 6 0;
#X connect 14 0 7 0;
#X connect 28 0 9 0;
#X connect 36 0 37 0;
#X connect 36 1 3 0;
#X connect 37 0 3 0;
#X connect 37 1 38 0;
#X connect 38 0 7 0;
#X connect 57 0 4 0;
#X restore 61 219 pd adsr~;
#X obj 646 171 s \$0-fc;
#X obj 61 301 +~;
#X obj 161 246 pack f 5;
#X obj 161 226 r \$0-fc;
#X obj 161 266 line~;
#X obj 96 314 pack f 5;
#X obj 96 334 line~;
#X obj 96 294 r \$0-res;
#X obj 72 133 r \$0-fc_a-num;
#X obj 83 153 r \$0-fc_d-num;
#X obj 94 173 r \$0-fc_s-num;
#X obj 106 193 r \$0-fc_r-num;
#X obj 241 162 inlet;
#X obj 126 362 r \$0-type;
#X obj 42 388 == 0;
#X obj 27 409 *~;
#X obj 67 409 *~;
#X obj 107 409 *~;
#X obj 147 409 *~;
#X obj 82 388 == 1;
#X obj 122 388 == 2;
#X obj 162 388 == 3;
#X obj 116 507 *~;
#N canvas 0 0 758 670 adsr~ 0;
#X obj 115 121 inlet;
#X text 111 96 trigger;
#X obj 115 149 sel 0;
#X obj 254 165 t b;
#X obj 176 299 pack 0 \$2;
#X obj 502 161 inlet;
#X obj 448 291 del \$2;
#X obj 468 439 line~;
#X obj 472 314 f \$4;
#X obj 511 389 pack 0 \$3;
#X obj 564 161 inlet;
#X obj 626 161 inlet;
#X obj 699 160 inlet;
#X msg 115 180 stop;
#X obj 622 316 pack 0 \$5;
#X text 445 139 level;
#X obj 468 464 outlet~;
#X text 112 388 and pack with;
#X text 113 408 attack time;
#X text 41 136 if zero;
#X text 42 153 release;
#X text 22 170 and cancel;
#X text 53 187 decay;
#X text 294 282 on attack \, set a;
#X text 288 315 recall sustain value;
#X text 325 388 pack with decay time;
#X text 615 342 on release ramp;
#X text 616 359 back to zero;
#X obj 472 339 * 0.01;
#X text 57 577 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 23 12 ADSR ENVELOPE;
#X text 498 139 attack;
#X text 565 138 decay;
#X text 619 139 sustain;
#X text 696 139 release;
#X text 212 81 attack;
#X obj 214 102 moses;
#X obj 204 132 t b b;
#X msg 138 300 0;
#X text 30 283 optionally;
#X text 20 301 bash to zero;
#X text 35 256 ATTACK:;
#X text 59 487 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 505 639 Updated for Pd version 0.37;
#X text 265 99 test for negative trigger;
#X text 263 123 if so \, zero;
#X text 264 139 the output;
#X text 288 175 in any case;
#X text 313 365 multiply by peak level;
#X text 290 296 delay for sustain;
#X text 286 338 convert from percent;
#X text 165 350 ... then;
#X text 113 369 recall peak level;
#X text 449 123 peak;
#X text 291 159 ... do this;
#X text 57 539 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 218 11 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X msg 215 248 1;
#X connect 0 0 2 0;
#X connect 2 0 13 0;
#X connect 2 0 14 0;
#X connect 2 1 36 0;
#X connect 3 0 6 0;
#X connect 3 0 57 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 5 0 6 1;
#X connect 6 0 8 0;
#X connect 7 0 16 0;
#X connect 8 0 28 0;
#X connect 9 0 7 0;
#X connect 10 0 9 1;
#X connect 11 0 8 1;
#X connect 12 0 14 1;
#X connect 13 0 6 0;
#X connect 14 0 7 0;
#X connect 28 0 9 0;
#X connect 36 0 37 0;
#X connect 36 1 3 0;
#X connect 37 0 3 0;
#X connect 37 1 38 0;
#X connect 38 0 7 0;
#X connect 57 0 4 0;
#X restore 241 366 pd adsr~;
#X obj 252 273 r \$0-amp_a-num;
#X obj 263 293 r \$0-amp_d-num;
#X obj 274 313 r \$0-amp_s-num;
#X obj 286 333 r \$0-amp_r-num;
#X obj 116 540 outlet~;
#X obj 210 226 r \$0-porta;
#X obj 553 408 s \$0-patch_on;
#X obj 427 34 r \$0-patch_on;
#X obj 427 62 switch~;
#X obj 173 135 r \$0-fc_eg_depth-num;
#X obj 77 239 pack f 5;
#X obj 77 259 line~;
#X obj 61 281 *~;
#X obj 681 61 inlet~;
#X obj 241 184 route float;
#X obj 167 314 r \$0-lines;
#X msg 534 13 set 64 1 1;
#X msg 537 68 set 4 1 1;
#X msg 314 56 44100;
#X obj 308 82 / 64;
#X floatatom 332 176 0 0 0 0 - - -;
#X floatatom 312 129 5 0 0 0 - - -, f 5;
#X obj 306 155 expr 1000/$f1;
#X obj 351 83 / 4;
#X msg 361 58 44100;
#X obj 381 107 / 16;
#X msg 380 81 44100;
#X msg 535 42 set 16 1 1;
#N canvas 0 0 316 401 setgui 0;
#X obj 50 69 sel 0 1 2;
#X obj 53 42 inlet;
#X obj 37 242 s \$0-fc_a-set;
#X obj 61 220 s \$0-amp_a-set;
#X obj 45 294 s \$0-fc_d-set;
#X obj 69 272 s \$0-amp_d-set;
#X msg 91 97 range 0.091 9100 \, bang;
#X msg 66 121 range 0.363 14520 \, bang;
#X msg 31 144 range 1.452 14520 \, bang;
#X obj 171 220 s \$0-amp_a;
#X obj 146 242 s \$0-fc_a;
#X obj 179 272 s \$0-amp_d;
#X obj 155 294 s \$0-fc_d;
#X msg 52 320 label long;
#X msg 135 322 label wide;
#X msg 213 323 label fast;
#X obj 69 357 s \$0-precision-set;
#X connect 0 0 8 0;
#X connect 0 0 13 0;
#X connect 0 1 7 0;
#X connect 0 1 14 0;
#X connect 0 2 6 0;
#X connect 0 2 15 0;
#X connect 1 0 0 0;
#X connect 6 0 2 0;
#X connect 6 0 3 0;
#X connect 6 0 10 0;
#X connect 6 0 9 0;
#X connect 6 0 4 0;
#X connect 6 0 5 0;
#X connect 6 0 12 0;
#X connect 6 0 11 0;
#X connect 7 0 2 0;
#X connect 7 0 3 0;
#X connect 7 0 10 0;
#X connect 7 0 9 0;
#X connect 7 0 4 0;
#X connect 7 0 5 0;
#X connect 7 0 12 0;
#X connect 7 0 11 0;
#X connect 8 0 2 0;
#X connect 8 0 3 0;
#X connect 8 0 10 0;
#X connect 8 0 9 0;
#X connect 8 0 4 0;
#X connect 8 0 5 0;
#X connect 8 0 12 0;
#X connect 8 0 11 0;
#X connect 13 0 16 0;
#X connect 14 0 16 0;
#X connect 15 0 16 0;
#X restore 612 64 pd setgui;
#X obj 633 14 r \$0-precision;
#X obj 628 36 sel 0 1 2;
#X obj 17 22 mknob 25 400 1.452 14520 1 0 \$0-fc_a \$0-fc_a-set a 10
4 0 10 -257147 -94418 -94418 3 1;
#X obj 47 22 mknob 25 400 1.452 14520 1 0 \$0-fc_d \$0-fc_d-set d 10
4 0 10 -257147 -94418 -94418 31526 1;
#X obj 77 22 mknob 25 400 0 100 0 0 \$0-fc_s \$0-fc_s-set s 10 4 0
10 -257147 -94418 -94418 5257 1;
#X obj 107 22 mknob 25 500 2 20000 1 0 \$0-fc_r \$0-fc_r-set r 10 4
0 10 -257147 -94418 -94418 26963 1;
#X obj 18 47 nbx 5 10 1.452 14520 1 0 \$0-fc_a-num \$0-fc_a empty 0
-8 0 8 -257147 -1 -1 1.453 256 0;
#X obj 43 57 nbx 5 10 1.452 14520 1 0 \$0-fc_d-num \$0-fc_d empty 0
-8 0 8 -257147 -1 -1 2101.2 256 0;
#X obj 68 47 nbx 4 10 0 100 0 0 \$0-fc_s-num \$0-fc_s empty 0 -8 0
8 -257147 -1 -1 13.1754 256 0;
#X obj 89 57 nbx 5 10 1.453 99999 1 0 \$0-fc_r-num \$0-fc_r empty 0
-8 0 8 -257147 -1 -1 290 256 0;
#X obj 142 69 nbx 5 12 20 20000 1 0 \$0-freq \$0-freq-set f -7 6 0
10 -253051 -94418 -94418 19912.1 256 0;
#X obj 89 69 nbx 4 12 16 135 0 0 \$0-pitch \$0-pitch-set p -7 6 0 10
-257147 -94418 -94418 135 256 0;
#X obj 32 69 nbx 4 12 0 100 0 0 \$0-res_pc \$0-res_pc-set empty -36
6 0 10 -90649 -204800 -203904 37 256 0;
#X obj 32 69 nbx 4 12 0 100 0 0 \$0-res_pc \$0-res_pc-set res -18 6
0 10 -257147 -94418 -94418 37 256 0;
#X obj 17 83 hsl 241 12 -140 140 0 0 \$0-fc_eg_depth \$0-fc_eg_depth-set
depth 87 6 0 10 -257147 -94418 -94418 17900 1;
#X obj 199 71 nbx 6 12 -20000 20000 0 0 \$0-fc_eg_depth-num \$0-fc_eg_depth-sqr
empty -7 6 0 10 -253051 -94418 -94418 4738.03 256 0;
#X obj 11 98 cnv 15 141 22 empty empty empty 20 12 0 14 -183672 -66577
0;
#X obj 13 106 nbx 3 12 0 120 0 0 empty empty empty -2 -6 0 7 -257472
-1109 -90133 0 256 0;
#X obj 55 106 nbx 3 12 1 2 0 0 \$0-patch-num \$0-patch-set select 0
-5 0 7 -17235 -261234 -17235 2 256 0;
#X obj 100 106 bng 12 250 50 0 \$0-store_patch \$0-store_patch-bng
store -3 -5 0 7 -17235 -262130 -17235;
#X obj 121 101 bng 10 250 50 0 \$0-patches_load \$0-patches_load-bng
load -5 16 0 7 -2498 -262144 -13381;
#X obj 134 101 bng 10 250 50 0 \$0-patches_save \$0-patches_save-bng
save 0 16 0 7 -159809 -262144 -86277;
#X obj 13 106 nbx 3 12 0 120 0 0 \$0-patches-dummy \$0-patches-num
patches 0 -5 0 7 -17235 -203904 -17235 2 256 0;
#X obj 86 110 bng 8 250 50 0 \$0-store_plus \$0-store_plus-bng + 2
-4 0 7 -17235 -198336 -17235;
#X obj 44 110 bng 8 250 50 0 \$0-store_minus \$0-store_minus-bng -
1 -5 0 10 -17235 -257985 -17235;
#X obj 156 107 hradio 12 1 0 4 \$0-type \$0-type-set lpf 0 -6 0 10
-257147 -94418 -94418 0;
#X obj 207 107 nbx 5 12 0 99999 0 0 \$0-porta \$0-porta-set porta 0
-6 0 10 -257147 -1 -1 50 256 0;
#X text 108 44 dcf;
#X obj 142 22 mknob 25 400 1.452 14520 1 0 \$0-amp_a \$0-amp_a-set
a 10 4 0 10 -89780 -13780 -13780 141 1;
#X obj 172 22 mknob 25 400 1.452 14520 1 0 \$0-amp_d \$0-amp_d-set
d 10 4 0 10 -89780 -13780 -13780 19088 1;
#X obj 202 22 mknob 25 400 0 100 0 0 \$0-amp_s \$0-amp_s-set s 10 4
0 10 -89780 -13780 -13780 39900 1;
#X obj 232 22 mknob 25 500 2 20000 1 0 \$0-amp_r \$0-amp_r-set r 10
4 0 10 -89780 -13780 -13780 29914 1;
#X obj 143 47 nbx 5 10 1.452 14520 1 0 \$0-amp_a-num \$0-amp_a empty
0 -8 0 8 -89779 -1 -1 1.5 256 0;
#X obj 168 57 nbx 5 10 1.452 14520 1 0 \$0-amp_d-num \$0-amp_d empty
0 -8 0 8 -89779 -1 -1 119 256 0;
#X obj 193 47 nbx 4 10 0 100 0 0 \$0-amp_s-num \$0-amp_s empty 0 -8
0 8 -89779 -1 -1 100 256 0;
#X obj 214 57 nbx 5 10 1.453 99999 1 0 \$0-amp_r-num \$0-amp_r empty
0 -8 0 8 -89779 -1 -1 500 256 0;
#X text 233 44 dca;
#X obj 311 486 vradio 12 1 0 3 \$0-precision \$0-precision-set long
-6 -6 0 10 -207424 -45076 -45076 0;
#X obj 223 439 r \$0-res_pc;
#X obj 223 461 * 0.01;
#X obj 223 483 s \$0-res-set;
#X obj 372 478 nbx 4 12 0 1 0 0 \$0-res \$0-res-set res -18 6 0 10
-257147 -94418 -94418 0.37 256 0;
#X connect 1 0 51 0;
#X connect 1 1 52 0;
#X connect 1 2 53 0;
#X connect 1 3 54 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 10 0;
#X connect 9 0 13 0;
#X connect 10 0 11 0;
#X connect 10 0 14 0;
#X connect 10 1 12 0;
#X connect 10 1 9 0;
#X connect 11 0 13 1;
#X connect 12 0 13 1;
#X connect 13 0 8 0;
#X connect 14 0 9 0;
#X connect 15 0 16 0;
#X connect 16 0 19 0;
#X connect 16 0 36 0;
#X connect 18 0 20 0;
#X connect 18 0 36 0;
#X connect 19 0 17 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 23 0 31 0;
#X connect 23 1 27 0;
#X connect 25 0 26 0;
#X connect 25 1 23 0;
#X connect 27 0 25 0;
#X connect 28 0 25 0;
#X connect 28 1 23 2;
#X connect 28 2 66 0;
#X connect 29 0 66 0;
#X connect 30 0 29 0;
#X connect 31 0 24 0;
#X connect 32 0 33 0;
#X connect 33 0 31 1;
#X connect 33 1 23 1;
#X connect 33 2 31 2;
#X connect 35 0 72 0;
#X connect 37 0 1 1;
#X connect 38 0 40 0;
#X connect 39 0 38 0;
#X connect 40 0 37 1;
#X connect 41 0 42 0;
#X connect 42 0 1 2;
#X connect 43 0 41 0;
#X connect 44 0 35 1;
#X connect 45 0 35 2;
#X connect 46 0 35 3;
#X connect 47 0 35 4;
#X connect 48 0 74 0;
#X connect 49 0 50 0;
#X connect 49 0 55 0;
#X connect 49 0 56 0;
#X connect 49 0 57 0;
#X connect 50 0 51 1;
#X connect 51 0 58 0;
#X connect 52 0 58 0;
#X connect 53 0 58 0;
#X connect 54 0 58 0;
#X connect 55 0 52 1;
#X connect 56 0 53 1;
#X connect 57 0 54 1;
#X connect 58 0 64 0;
#X connect 59 0 58 1;
#X connect 60 0 59 1;
#X connect 61 0 59 2;
#X connect 62 0 59 3;
#X connect 63 0 59 4;
#X connect 65 0 38 1;
#X connect 67 0 68 0;
#X connect 69 0 70 0;
#X connect 70 0 71 0;
#X connect 71 0 72 1;
#X connect 72 0 37 0;
#X connect 73 0 1 1;
#X connect 74 0 59 0;
#X connect 74 0 35 0;
#X connect 74 1 28 0;
#X connect 75 0 41 1;
#X connect 75 0 70 1;
#X connect 76 0 68 0;
#X connect 77 0 68 0;
#X connect 78 0 79 0;
#X connect 79 0 81 0;
#X connect 81 0 82 0;
#X connect 82 0 80 0;
#X connect 83 0 81 0;
#X connect 84 0 83 0;
#X connect 85 0 81 0;
#X connect 86 0 85 0;
#X connect 87 0 68 0;
#X connect 89 0 90 0;
#X connect 89 0 88 0;
#X connect 90 0 76 0;
#X connect 90 1 87 0;
#X connect 90 2 77 0;
#X connect 127 0 128 0;
#X connect 128 0 129 0;
#X coords 0 -1 1 1 254 113 1 10 10;
